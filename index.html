<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>WebEditor mit Live-Vorschau</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      rel="preconnect"
      href="https://fonts.googleapis.com"
    />
    <link
      rel="preconnect"
      href="https://fonts.gstatic.com"
      crossorigin
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.3/ace.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.14.7/beautify-html.min.js"></script>
  </head>
  <body>
    <header class="app-header">
      <a id="brand-home" class="brand brand-link" href="#" aria-label="Zur Startseite">
        <span class="brand-icon" aria-hidden="true">
          <svg viewBox="0 0 24 24" focusable="false">
            <circle cx="12" cy="12" r="9" fill="none" stroke="currentColor" stroke-width="1.6" />
            <path d="M9.5 9.5l-2 2 2 2" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
            <path d="M14.5 9.5l2 2-2 2" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
            <path d="M12 8l-1.5 8" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
          </svg>
        </span>
        <div>
          <h1>Code WebEditor</h1>
          <p>Kompletter Browser-Editor mit Live-Vorschau</p>
        </div>
      </a>
      <div class="header-actions">
        <div class="status-pill" id="status-pill" aria-live="polite">
          Bereit
        </div>
        <button id="open-settings-button" class="header-icon-button" type="button" aria-label="Einstellungen √∂ffnen">
          <span class="header-icon-button__icon" aria-hidden="true">
            <svg viewBox="0 0 24 24" focusable="false">
              <path
                d="M12 8.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7z"
                fill="none"
                stroke="currentColor"
                stroke-width="1.6"
              />
              <path
                d="M4.5 13.5l-0.7-2.1 1.9-1.6a6.5 6.5 0 0 1 0-1.6L3.8 6.6 5.5 4.5l2.2 0.7a6.5 6.5 0 0 1 1.6-0.9l0.4-2.3h3l0.4 2.3a6.5 6.5 0 0 1 1.6 0.9l2.2-0.7 1.7 2.1-1.9 1.6a6.5 6.5 0 0 1 0 1.6l1.9 1.6-0.7 2.1-2.3-0.4a6.5 6.5 0 0 1-1.1 1.1l0.4 2.3-2.1 1.2-1.6-1.9a6.5 6.5 0 0 1-1.6 0l-1.6 1.9-2.1-1.2 0.4-2.3a6.5 6.5 0 0 1-1.1-1.1l-2.3 0.4z"
                fill="none"
                stroke="currentColor"
                stroke-width="1.6"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </span>
          <span class="header-icon-button__label">Einstellungen</span>
        </button>
      </div>
    </header>

    <div id="start-screen" class="start-screen" aria-hidden="true">
      <div
        class="start-card"
        role="dialog"
        aria-modal="true"
        aria-labelledby="start-screen-title"
        aria-describedby="start-screen-description"
      >
        <div class="start-card__layout">
          <div class="start-card__content">
            <span class="start-card__badge">Dein lokaler Playground</span>
            <h2 id="start-screen-title">Willkommen im Code WebEditor</h2>
            <p id="start-screen-description">
              W√§hle ein Ausgangsprojekt, passe HTML&nbsp;¬∑&nbsp;CSS&nbsp;¬∑&nbsp;JS live an und sieh das Ergebnis sofort in der Vorschau.
            </p>
            <ul class="start-card__highlights">
              <li>
                <span class="highlight-icon">‚ö°</span>
                <div>
                  <strong>Sofortige Vorschau</strong>
                  <p>√Ñnderungen an allen Dateien erscheinen automatisch im rechten Panel.</p>
                </div>
              </li>
              <li>
                <span class="highlight-icon">üß∞</span>
                <div>
                  <strong>Modulares Beispielprojekt</strong>
                  <p>Mehrere Unterseiten inklusive Navigation, Theme-Toggle &amp; Interaktionen.</p>
                </div>
              </li>
              <li>
                <span class="highlight-icon">üìÅ</span>
                <div>
                  <strong>Lokale Dateien &amp; Ordner</strong>
                  <p>Importiere bestehende Projekte vom Ger√§t und speichere √Ñnderungen direkt zur√ºck.</p>
                </div>
              </li>
            </ul>
          </div>
          <aside class="start-card__panel">
            <h3 class="start-card__panel-title">Schnellstart</h3>
            <div class="start-card__actions">
              <button id="start-resume-button" class="button-pair primary hidden" type="button">
                Gespeichertes Projekt fortsetzen
              </button>
              <button id="start-example-button" class="button-pair primary" type="button">
                Beispielprojekt √∂ffnen
              </button>
              <button id="start-folder-button" class="button-pair secondary" type="button">
                Ordner importieren ‚Ä¶
              </button>
              <button id="start-blank-button" class="button-pair secondary" type="button">
                Leeres Projekt starten
              </button>
            </div>
            <div class="start-card__meta">
              <div>
                <span class="meta-label">Beispielumfang</span>
                <strong>4 Dateien</strong>
                <p>Mehrseitiges Layout mit Navigation, Theme-Switch &amp; Dialog.</p>
              </div>
              <div>
                <span class="meta-label">Autopreview</span>
                <strong>350&nbsp;ms</strong>
                <p>√Ñnderungen an HTML, CSS &amp; JS werden automatisch √ºbernommen.</p>
              </div>
              <div id="start-meta-folder">
                <span class="meta-label">Lokaler Import</span>
                <strong>Ordner &amp; Dateien</strong>
                <p>Erfordert einen Browser mit File System Access API (z.&nbsp;B. Chromium).</p>
              </div>
              <div>
                <span class="meta-label">Dateiwerkzeug</span>
                <strong>Erstellen ¬∑ Umbenennen ¬∑ Zur√ºcksetzen</strong>
                <p>Verwalte deine Dateien direkt in der Sidebar.</p>
              </div>
            </div>
          </aside>
        </div>
      </div>
    </div>

    <section class="layout-controls" role="group" aria-label="Bereiche ein- und ausblenden">
      <span>Bereiche</span>
      <label><input type="checkbox" data-toggle-target="file-sidebar" checked /> Dateien</label>
      <label><input type="checkbox" data-toggle-target="editor-panel" checked /> Editor</label>
      <label><input type="checkbox" data-toggle-target="preview-panel" checked /> Vorschau</label>
      <label><input type="checkbox" data-toggle-target="console-panel" checked /> Konsole</label>
      <label><input type="checkbox" data-toggle-target="chat-panel" checked /> Chat</label>
    </section>

    <main class="workspace">
      <aside class="file-sidebar" aria-label="Dateien">
        <header class="sidebar-header">
          <div>
            <h2>Dateien</h2>
            <p>Verwalte die Dateien deines Projekts</p>
          </div>
          <div class="sidebar-actions" role="group" aria-label="Dateiaktionen">
            <button
              id="rename-file-button"
              class="ghost"
              aria-label="Datei umbenennen"
              title="Datei umbenennen"
              type="button"
            >
              <svg viewBox="0 0 24 24" focusable="false" aria-hidden="true">
                <path
                  d="M4 15.5V20h4.5L19 9.5 14.5 5 4 15.5z"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.6"
                  stroke-linejoin="round"
                />
                <path
                  d="M13.5 6.5l4 4"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.6"
                  stroke-linecap="round"
                />
              </svg>
            </button>
            <button
              id="delete-file-button"
              class="ghost"
              aria-label="Datei l√∂schen"
              title="Datei l√∂schen"
              type="button"
            >
              <svg viewBox="0 0 24 24" focusable="false" aria-hidden="true">
                <path
                  d="M6 6l12 12M6 18L18 6"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.6"
                  stroke-linecap="round"
                />
                <path
                  d="M9 3h6M5 6h14M8 6v12a2 2 0 002 2h4a2 2 0 002-2V6"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.6"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>
            <button
              id="new-file-button"
              class="ghost"
              aria-label="Neue Datei"
              title="Neue Datei"
              type="button"
            >
              <svg viewBox="0 0 24 24" focusable="false" aria-hidden="true">
                <circle cx="12" cy="12" r="9" fill="none" stroke="currentColor" stroke-width="1.6" />
                <path
                  d="M12 8v8"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.6"
                  stroke-linecap="round"
                />
                <path
                  d="M8 12h8"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.6"
                  stroke-linecap="round"
                />
              </svg>
            </button>
          </div>
        </header>
        <ul id="file-list" class="file-list" role="listbox" aria-label="Projektdateien"></ul>
        <div class="file-sidebar-footer">
          <button id="open-folder-button" class="ghost" type="button">
            Ordner importieren ‚Ä¶
          </button>
          <button id="open-local-button" class="ghost" type="button">
            Lokale Datei √∂ffnen ‚Ä¶
          </button>
          <button id="save-local-button" class="ghost" type="button">
            Datei speichern
          </button>
          <button id="reset-files-button" class="ghost" title="Projektdateien zur√ºcksetzen" type="button">
            Projekt zur√ºcksetzen
          </button>
        </div>
      </aside>
      <section class="editor-panel">
        <div class="toolbar">
          <button id="run-button" class="primary">Code ausf√ºhren</button>
          <button id="format-button">Formatieren</button>
          <button id="reset-button">Zur√ºcksetzen</button>
        </div>
        <div id="editor" class="editor" aria-label="Code Editor"></div>
      </section>

      <section class="preview-panel" aria-label="Live Vorschau">
        <div class="toolbar">
          <span>Live Vorschau</span>
        </div>
        <iframe id="preview-frame" title="Code Vorschau"></iframe>
      </section>

      <section class="console-panel" aria-label="Konsolen-Ausgabe">
        <div class="toolbar">
          <span>Konsolen-Ausgabe</span>
        </div>
        <div class="console-output" id="console-output">
          <pre id="console-log"></pre>
        </div>
      </section>

      <aside class="chat-panel" aria-label="Editor Chat">
        <div class="toolbar">
          <span>AI-Chat</span>
        </div>
        <div class="chat-content">
          <div class="chat-messages" tabindex="0" role="log" aria-live="polite">
            <div class="chat-message chat-message--system">
              <span class="chat-message__title">‚öôÔ∏è Hinweis</span>
              <p>
                Verbinde Google Gemini in den Einstellungen, um hier Fragen zu deinem Projekt zu stellen und Code-Vorschl√§ge zu erhalten.
              </p>
            </div>
          </div>
          <form id="chat-form" class="chat-input" action="javascript:void(0);">
            <textarea
              id="chat-input-textarea"
              placeholder="Beschreibe dein Anliegen oder bitte um einen Code-Vorschlag ‚Ä¶"
              spellcheck="false"
              data-chat-input
            ></textarea>
            <div class="chat-input__footer">
              <div class="chat-input__buttons">
                <button type="submit" class="chat-send-button" data-chat-send disabled>Senden</button>
              </div>
              <div class="chat-actions" aria-label="Schnellaktionen">
                <span class="chat-actions__title">Schnellaktionen</span>
                <div class="chat-actions__list">
                  <button type="button" class="chat-action-button" data-chat-action="stop">
                    <span class="chat-action-button__icon" aria-hidden="true">
                      <svg viewBox="0 0 24 24" focusable="false">
                        <rect
                          x="7"
                          y="7"
                          width="10"
                          height="10"
                          rx="2"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="1.8"
                        />
                      </svg>
                    </span>
                    <span>Stoppen</span>
                  </button>
                  <button type="button" class="chat-action-button" data-chat-action="regenerate">
                    <span class="chat-action-button__icon" aria-hidden="true">
                      <svg viewBox="0 0 24 24" focusable="false">
                        <path
                          d="M12 5a7 7 0 0 1 6.32 4H21l-2.5 2.5L16 9h1a5 5 0 1 0 1.2 5.76"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="1.8"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </span>
                    <span>Neu generieren</span>
                  </button>
                  <button type="button" class="chat-action-button" data-chat-action="clear">
                    <span class="chat-action-button__icon" aria-hidden="true">
                      <svg viewBox="0 0 24 24" focusable="false">
                        <path
                          d="M8 8l8 8m0-8l-8 8"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="1.8"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </span>
                    <span>Verlauf l√∂schen</span>
                  </button>
                </div>
              </div>
            </div>
          </form>
        </div>
      </aside>
    </main>

    <input type="file" id="local-file-input" multiple style="display: none" />

    <div id="settings-modal" class="settings-modal" aria-hidden="true">
      <div class="settings-modal__overlay" data-close-settings></div>
      <div
        class="settings-modal__dialog"
        role="dialog"
        aria-modal="true"
        aria-labelledby="settings-modal-title"
        tabindex="-1"
      >
        <header class="settings-modal__header">
          <div>
            <h2 id="settings-modal-title">Einstellungen</h2>
            <p class="settings-modal__subtitle">Passe den Editor schon jetzt an ‚Äì weitere Optionen folgen bald.</p>
          </div>
          <button
            type="button"
            class="settings-modal__close"
            data-close-settings
            aria-label="Einstellungen schlie√üen"
          >
            <svg viewBox="0 0 24 24" focusable="false" aria-hidden="true">
              <path
                d="M8 8l8 8m0-8l-8 8"
                fill="none"
                stroke="currentColor"
                stroke-width="1.8"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </button>
        </header>
        <div class="settings-modal__body">
          <nav class="settings-tabs" aria-label="Einstellungsbereiche">
            <button
              type="button"
              class="settings-tab is-active"
              data-settings-tab="editor"
              aria-controls="settings-panel-editor"
              id="settings-tab-editor"
              aria-selected="true"
            >
              <span class="settings-tab__icon" aria-hidden="true">
                <svg viewBox="0 0 24 24" focusable="false">
                  <path
                    d="M8 7l-3 5 3 5m8-10l3 5-3 5M14 7l-4 10"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.6"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </span>
              <span class="settings-tab__label">Editor</span>
              <small class="settings-tab__hint">Code &amp; Vorschau</small>
            </button>
            <button
              type="button"
              class="settings-tab"
              data-settings-tab="interface"
              aria-controls="settings-panel-interface"
              id="settings-tab-interface"
              aria-selected="false"
            >
              <span class="settings-tab__icon" aria-hidden="true">
                <svg viewBox="0 0 24 24" focusable="false">
                  <path
                    d="M5 5h14v5H5zM5 14h6v5H5zm8 0h6v5h-6z"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.6"
                    stroke-linejoin="round"
                  />
                </svg>
              </span>
              <span class="settings-tab__label">Oberfl√§che</span>
              <small class="settings-tab__hint">Layout &amp; Theme</small>
            </button>
            <button
              type="button"
              class="settings-tab"
              data-settings-tab="assistants"
              aria-controls="settings-panel-assistants"
              id="settings-tab-assistants"
              aria-selected="false"
            >
              <span class="settings-tab__icon" aria-hidden="true">
                <svg viewBox="0 0 24 24" focusable="false">
                  <circle cx="12" cy="12" r="3.2" fill="none" stroke="currentColor" stroke-width="1.6" />
                  <path
                    d="M4.5 9a7.5 7.5 0 0 1 15 0c0 5-5.6 9.6-7.5 10.8C10.1 18.6 4.5 14 4.5 9z"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.6"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </span>
              <span class="settings-tab__label">Assistenten</span>
              <small class="settings-tab__hint">KI &amp; Automatisierung</small>
            </button>
          </nav>
          <div class="settings-panels">
            <section
              id="settings-panel-editor"
              class="settings-panel is-active"
              data-settings-panel="editor"
              role="tabpanel"
              aria-labelledby="settings-tab-editor"
            >
              <h3 class="settings-section__title">Editor</h3>
              <label class="settings-option">
                <span class="settings-option__meta">
                  <strong>Automatische Vorschau</strong>
                  <small>Aktualisiert die Live-Vorschau nach jeder √Ñnderung.</small>
                </span>
                <input type="checkbox" checked disabled />
              </label>
              <label class="settings-option">
                <span class="settings-option__meta">
                  <strong>Code-Vervollst√§ndigung</strong>
                  <small>Unterst√ºtzung beim Tippen ‚Äì in Arbeit.</small>
                </span>
                <input type="checkbox" disabled />
              </label>
            </section>
            <section
              id="settings-panel-interface"
              class="settings-panel"
              data-settings-panel="interface"
              role="tabpanel"
              aria-labelledby="settings-tab-interface"
              hidden
            >
              <h3 class="settings-section__title">Oberfl√§che</h3>
              <label class="settings-option">
                <span class="settings-option__meta">
                  <strong>Interface-Dichte</strong>
                  <small>Wechsle zwischen kompakter und komfortabler Ansicht.</small>
                </span>
                <select disabled>
                  <option>Komfortabel (Standard)</option>
                  <option>Kompakt</option>
                </select>
              </label>
              <label class="settings-option">
                <span class="settings-option__meta">
                  <strong>Theme</strong>
                  <small>Helle & dunkle Variante folgen demn√§chst.</small>
                </span>
                <select disabled>
                  <option>Dunkelmodus</option>
                  <option>Hellmodus</option>
                  <option>System</option>
                </select>
              </label>
            </section>
            <section
              id="settings-panel-assistants"
              class="settings-panel"
              data-settings-panel="assistants"
              role="tabpanel"
              aria-labelledby="settings-tab-assistants"
              hidden
            >
              <h3 class="settings-section__title">Assistenten</h3>
              <p class="settings-panel__placeholder">
                Verbinde den integrierten Chat mit <strong>Google Gemini</strong>. Dein API-Schl√ºssel wird ausschlie√ülich lokal im Browser
                gespeichert und nur f√ºr API-Anfragen verwendet.
              </p>
              <form id="gemini-settings-form" class="settings-form" autocomplete="off">
                <label class="settings-field" for="gemini-api-key-input">
                  <span class="settings-field__label">Gemini API-Schl√ºssel</span>
                  <div class="settings-field__control">
                    <input
                      id="gemini-api-key-input"
                      name="geminiApiKey"
                      type="password"
                      placeholder="AIza..."
                      autocomplete="off"
                      spellcheck="false"
                      data-gemini-field
                      required
                    />
                    <button
                      type="button"
                      class="settings-field__toggle"
                      data-gemini-action="toggle"
                      aria-label="API-Schl√ºssel anzeigen"
                    >
                      Anzeigen
                    </button>
                  </div>
                  <small class="settings-field__hint">
                    Du findest den Schl√ºssel in der
                    <a href="https://makersuite.google.com/app/apikey" target="_blank" rel="noopener noreferrer">Google AI Studio Console</a>.
                  </small>
                </label>
                <div class="settings-form__actions">
                  <button type="submit" class="settings-modal__confirm">Speichern</button>
                  <button
                    type="button"
                    class="settings-form__link"
                    data-gemini-action="clear"
                  >
                    Schl√ºssel l√∂schen
                  </button>
                </div>
                <div class="settings-form__actions">
                  <button
                    type="button"
                    class="settings-modal__confirm secondary"
                    data-gemini-action="test"
                  >
                    Verbindung testen
                  </button>
                  <span id="gemini-test-status" class="settings-panel__info settings-panel__info--inline" aria-live="polite">
                    Keine Verbindung getestet.
                  </span>
                </div>
                <label class="settings-field" for="gemini-model-select">
                  <span class="settings-field__label">Bevorzugtes Modell</span>
                  <div class="settings-field__control settings-field__control--select">
                    <select id="gemini-model-select" name="geminiModel" data-gemini-field>
                      <option value="">Modell ausw√§hlen ‚Ä¶</option>
                    </select>
                  </div>
                  <small class="settings-field__hint">
                    Lade verf√ºgbare Modelle √ºber <em>Verbindung testen</em>. Deine Auswahl wird lokal gespeichert.
                  </small>
                </label>
                <div class="settings-form__actions">
                  <button
                    type="button"
                    class="settings-form__link"
                    data-gemini-action="reset-models"
                  >
                    Modellauswahl zur√ºcksetzen
                  </button>
                </div>
              </form>
              <div id="gemini-key-status" class="settings-panel__info" aria-live="polite">
                Kein Schl√ºssel hinterlegt.
              </div>
            </section>
          </div>
        </div>
        <footer class="settings-modal__footer">
          <button type="button" class="settings-modal__confirm" data-close-settings>
            Fertig
          </button>
        </footer>
      </div>
    </div>

    <div id="toast" class="toast" role="status" aria-live="polite"></div>

    <script src="main.js"></script>
  </body>
</html>
